# ERP系统测试数据设计文档

## 1. 数据设计原则
- 覆盖系统核心业务流程
- 数据关系完整，体现表间关联
- 数据量适中，便于系统演示
- 数据具有代表性，涵盖不同场景
- 符合业务逻辑，便于理解

## 2. 核心表测试数据设计

### 2.1 物料分类表（jsh_material_category）
**用途**：存储物料的分类信息

**测试数据**：
| id | name       | category_level | parent_id | sort | serial_no | remark     | tenant_id |
|----|------------|----------------|-----------|------|-----------|------------|-----------|
| 1  | 原材料     | 1              | 0         | 1    | MAT001    | 基础原材料 | 1         |
| 2  | 半成品     | 1              | 0         | 2    | MAT002    | 加工半成品 | 1         |
| 3  | 成品       | 1              | 0         | 3    | MAT003    | 最终产品   | 1         |
| 4  | 金属材料   | 2              | 1         | 1    | MAT00101  | 金属原材料 | 1         |
| 5  | 塑料材料   | 2              | 1         | 2    | MAT00102  | 塑料原材料 | 1         |
| 6  | 电子组件   | 2              | 2         | 1    | MAT00201  | 电子半成品 | 1         |
| 7  | 机械组件   | 2              | 2         | 2    | MAT00202  | 机械半成品 | 1         |
| 8  | 电子产品   | 2              | 3         | 1    | MAT00301  | 消费电子产品 | 1       |
| 9  | 机械设备   | 2              | 3         | 2    | MAT00302  | 工业机械设备 | 1       |

### 2.2 供应商表（jsh_supplier）
**用途**：存储供应商信息

**测试数据**：
| id | supplier    | contacts | phone_num  | email               | address         | type | enabled | tenant_id |
|----|-------------|----------|------------|---------------------|-----------------|------|---------|-----------|
| 1  | 阿里巴巴供应商 | 张三     | 13800138000 | zhang@alibaba.com   | 浙江省杭州市     | 1    | 1       | 1         |
| 2  | 腾讯供应商   | 李四     | 13900139000 | li@tencent.com      | 广东省深圳市     | 1    | 1       | 1         |
| 3  | 百度供应商   | 王五     | 13700137000 | wang@baidu.com      | 北京市海淀区     | 1    | 1       | 1         |

### 2.3 仓库表（jsh_depot）
**用途**：存储仓库信息

**测试数据**：
| id | name     | address       | sort | remark   | enabled | tenant_id |
|----|----------|---------------|------|----------|---------|-----------|
| 1  | 主仓库   | 园区A栋1楼    | 1    | 主要存储 | 1       | 1         |
| 2  | 备用仓库 | 园区B栋2楼    | 2    | 备用存储 | 1       | 1         |
| 3  | 成品仓库 | 园区C栋3楼    | 3    | 成品存储 | 1       | 1         |

### 2.4 物料表（jsh_material）
**用途**：存储物料的详细信息

**测试数据**：
| id | name       | category_id | unit  |规格型号   | purchase_price | retail_price | supplier_id | depot_id | tenant_id |
|----|------------|-------------|-------|----------|----------------|--------------|-------------|----------|-----------|
| 1  | 不锈钢板   | 4           | 张    | 1000*2000 | 100.00         | 150.00       | 1           | 1        | 1         |
| 2  | 塑料颗粒   | 5           | 公斤  | PP-123   | 20.00          | 30.00        | 2           | 1        | 1         |
| 3  | 电路板     | 6           | 个    | PCB-001  | 50.00          | 80.00        | 3           | 2        | 1         |
| 4  | 电机       | 7           | 台    | MOT-001  | 200.00         | 350.00       | 1           | 2        | 1         |
| 5  | 智能手机   | 8           | 台    | PHONE-001 | 1000.00       | 1500.00      | 2           | 3        | 1         |
| 6  | 工业机器人 | 9           | 台    | ROBOT-001 | 50000.00      | 80000.00     | 3           | 3        | 1         |

### 2.5 用户表（jsh_user）
**用途**：存储系统用户信息

**测试数据**：
| id | username | password | real_name | phone       | email               | role_id | enabled | tenant_id |
|----|----------|----------|-----------|-------------|---------------------|---------|---------|-----------|
| 1  | admin    | 123456   | 系统管理员 | 13800138000 | admin@jsh.com       | 1       | 1       | 1         |
| 2  | buyer    | 123456   | 采购人员   | 13900139000 | buyer@jsh.com       | 2       | 1       | 1         |
| 3  | seller   | 123456   | 销售人员   | 13700137000 | seller@jsh.com      | 3       | 1       | 1         |
| 4  | stock    | 123456   | 仓库人员   | 13600136000 | stock@jsh.com       | 4       | 1       | 1         |

### 2.6 物料当前库存表（jsh_material_current_stock）
**用途**：存储物料的当前库存信息

**测试数据**：
| id | material_id | depot_id | current_stock | tenant_id |
|----|-------------|----------|---------------|-----------|
| 1  | 1           | 1        | 100           | 1         |
| 2  | 2           | 1        | 500           | 1         |
| 3  | 3           | 2        | 200           | 1         |
| 4  | 4           | 2        | 150           | 1         |
| 5  | 5           | 3        | 50            | 1         |
| 6  | 6           | 3        | 20            | 1         |

### 2.7 仓库操作表头表（jsh_depot_head）
**用途**：存储仓库操作单的基本信息

**测试数据**：
| id | operate_type | depot_id | supplier_id | total_amount | creator | tenant_id |
|----|--------------|----------|-------------|--------------|---------|-----------|
| 1  | 采购入库     | 1        | 1           | 15000.00     | 2       | 1         |
| 2  | 销售出库     | 3        | NULL        | 25000.00     | 3       | 1         |
| 3  | 生产入库     | 2        | NULL        | 8000.00      | 4       | 1         |
| 4  | 生产领料     | 1        | NULL        | 3000.00      | 4       | 1         |

### 2.8 仓库操作明细表（jsh_depot_item）
**用途**：存储仓库操作单的详细物料信息

**测试数据**：
| id | depot_head_id | material_id | material_name | unit | quantity | price | amount | tenant_id |
|----|---------------|-------------|---------------|------|----------|-------|--------|-----------|
| 1  | 1             | 1           | 不锈钢板     | 张    | 100      | 100.00 | 10000.00 | 1     |
| 2  | 1             | 2           | 塑料颗粒     | 公斤  | 250      | 20.00  | 5000.00  | 1     |
| 3  | 2             | 5           | 智能手机     | 台    | 10       | 1500.00 | 15000.00 | 1    |
| 4  | 2             | 6           | 工业机器人   | 台    | 1        | 80000.00 | 80000.00 | 1   |
| 5  | 3             | 3           | 电路板       | 个    | 100      | 50.00  | 5000.00  | 1     |
| 6  | 3             | 4           | 电机         | 台    | 15       | 200.00 | 3000.00  | 1     |
| 7  | 4             | 1           | 不锈钢板     | 张    | 30       | 100.00 | 3000.00  | 1     |

## 3. 数据关系图

```
供应商表(jsh_supplier)    ──┬──► 物料表(jsh_material) ──┬──► 物料当前库存表(jsh_material_current_stock)
                           │                           │
                           │                           └──► 仓库操作明细表(jsh_depot_item)
                           │
物料分类表(jsh_material_category) ──┘
                           
仓库表(jsh_depot) ──┬──► 物料当前库存表(jsh_material_current_stock)
                    │
                    └──► 仓库操作表头表(jsh_depot_head) ──► 仓库操作明细表(jsh_depot_item)

用户表(jsh_user) ──► 仓库操作表头表(jsh_depot_head)
```

## 4. 测试数据插入顺序

1. jsh_material_category (物料分类)
2. jsh_supplier (供应商)
3. jsh_depot (仓库)
4. jsh_material (物料)
5. jsh_material_current_stock (物料库存)
6. jsh_user (用户)
7. jsh_depot_head (仓库操作单)
8. jsh_depot_item (仓库操作明细)

## 5. 预期效果

- 系统首页显示完整的物料分类树
- 物料管理模块显示6种不同类型的物料
- 库存管理模块显示各仓库的物料库存
- 采购、销售、生产等业务流程可正常演示
- 报表模块可生成有意义的数据统计

## 6. 数据维护

- 定期清理过期测试数据
- 根据业务需求扩展测试数据
- 确保数据一致性和完整性

## 7. 注意事项

- 插入数据前确保表结构已创建
- 注意外键约束，按照依赖关系插入
- 避免插入重复数据
- 测试完成后可通过删除标记或物理删除清理数据
